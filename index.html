<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Evaluasi Interaktif SPLTV Kelas X</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9fafb;
      color: #333;
      margin: 0;
      padding: 0;
    }
    header {
      text-align: center;
      background: linear-gradient(135deg, #2563eb, #3b82f6);
      color: white;
      padding: 2rem 1rem;
      border-bottom-left-radius: 2rem;
      border-bottom-right-radius: 2rem;
    }
    header h1 {
      margin: 0;
      font-size: 2rem;
    }
    main {
      max-width: 800px;
      margin: 2rem auto;
      padding: 1.5rem;
      background: white;
      border-radius: 1rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    section {
      margin-bottom: 2rem;
    }
    .btn {
      display: inline-block;
      background-color: #2563eb;
      color: white;
      padding: 0.7rem 1.2rem;
      border-radius: 0.5rem;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      transition: 0.3s;
    }
    .btn:hover { background-color: #1e40af; }
    .question { margin-bottom: 1.5rem; }
    .feedback { font-style: italic; margin-top: 0.5rem; }
    .hidden { display: none; }
    input[type="text"], select {
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid #ccc;
      width: 100%;
      box-sizing: border-box;
    }
    #summary {
      background: #f0f9ff;
      padding: 1rem;
      border-radius: 0.8rem;
      margin-top: 1rem;
    }
  </style>
</head>

<body>
  <header>
    <h1>Evaluasi Interaktif — Sistem Persamaan Linear Tiga Variabel (SPLTV)</h1>
    <p>Kelas X SMA / SMK</p>
  </header>

  <main>
    <!-- 🟦 PETUNJUK & MOTIVASI -->
    <section id="intro" class="p-6 text-center bg-gray-50 rounded-xl shadow-md max-w-2xl mx-auto my-8">
      <h2 class="text-2xl font-semibold mb-4">Petunjuk & Motivasi</h2>
      <p class="text-lg text-gray-700 leading-relaxed">
        Kerjakan <strong>15 soal</strong> berikut (campuran pilihan ganda & isian singkat).<br>
        Tidak ada pemeriksaan jawaban per soal — selesaikan semua, lalu klik 
        <em><strong>"Selesai &amp; Lihat Hasil"</strong></em>.<br>
        Jawaban akan dinilai otomatis.
      </p>
      <p class="mt-4 text-lg text-blue-700 font-medium">
        Kerjakan dengan jujur dan percaya diri — kamu pasti bisa!<br>
        Setiap langkah yang kamu ambil akan membawamu lebih dekat pada pemahaman yang lebih baik 💪✨
      </p>
    </section>

    <!-- 🟩 FORM IDENTITAS -->
    <section id="identity">
      <h2>Identitas Peserta</h2>
      <label>Nama:</label>
      <input type="text" id="studentName" placeholder="Masukkan namamu di sini">
      <br><br>
      <label>Kelas:</label>
      <input type="text" id="studentClass" placeholder="Misal: X IPA 1">
      <br><br>
      <button class="btn" onclick="startTest()">Mulai Evaluasi</button>
    </section>

    <!-- 🟨 BAGIAN SOAL -->
    <section id="quiz" class="hidden"></section>

    <!-- 🟧 HASIL DAN RINGKASAN -->
    <section id="results" class="hidden">
      <h2>Hasil Evaluasi</h2>
      <div id="summary"></div>
      <br>
      <button class="btn" onclick="printSummary()">Cetak Hasil</button>
      <button class="btn" onclick="restartTest()">Mulai Ulang</button>
    </section>
  </main>

  <script>
    // ==============================
    // 1️⃣ DAFTAR SOAL
    // ==============================
    const QUESTIONS = [
      {
        id: 1,
        type: 'mcq',
        q: 'Rani membeli 5 kg apel, 2 kg jeruk, dan 3 kg anggur dengan total Rp125.000,00. Bentuk persamaan matematikanya adalah...',
        options: ['5x + 2y + 3z = 125000', '2x + 5y + 3z = 125000', '3x + 5y + 2z = 125000'],
        answer: 0,
        cat: 'Modeling',
        fb_true: '✅ Benar — Kamu sudah mampu mengubah kalimat menjadi model matematika SPLTV dengan tepat.',
        fb_false: '❌ Salah — Perhatikan bahwa total harga harus berada di sisi kanan tanda sama dengan (=).'
      },
      {
        id: 5,
        type: 'mcq',
        q: 'Diketahui SPLTV: x + y + z = -6; x + y - 2z = 3; x - 2y + z = 9. Nilai z adalah...',
        options: ['-3', '2', '5'],
        answer: 0,
        cat: 'Perhitungan',
        fb_true: '✅ Hebat! Kamu telah berhasil menyelesaikan eliminasi dengan benar.',
        fb_false: '❌ Coba periksa kembali langkah eliminasimu.'
      },
      {
        id: 7,
        type: 'short',
        q: 'Dari SPLTV: x + y + z = 12; 2x - y + z = 6; 3x + 2y - z = 8. Tentukan nilai (x, y, z) sebagai tiga bilangan yang dipisah koma.',
        answer: '2,4,6',
        cat: 'Perhitungan',
        fb_true: '✅ Tepat! Nilai (x, y, z) = (2,4,6).',
        fb_false: '❌ Perhatikan langkah substitusi/eliminasi agar hasilnya konsisten.'
      },
      {
        id: 10,
        type: 'mcq',
        q: 'Pilih metode yang paling efisien untuk menyelesaikan SPLTV yang koefisien x pada persamaan 1,2,3 adalah 3,1,4...',
        options: ['Eliminasi', 'Substitusi', 'Gabungan eliminasi-substitusi'],
        answer: 0,
        cat: 'Strategi',
        fb_true: '✅ Benar — Metode eliminasi efisien untuk bentuk seperti ini.',
        fb_false: '❌ Salah — Lihat kembali pola koefisien variabelnya.'
      }
      // Tambahkan hingga 15 soal sesuai kebutuhan
    ];

    // ==============================
    // 2️⃣ FUNGSI UTAMA
    // ==============================
    function startTest() {
      const name = document.getElementById('studentName').value.trim();
      const cls = document.getElementById('studentClass').value.trim();
      if (!name || !cls) return alert('Isi nama dan kelas terlebih dahulu!');
      document.getElementById('identity').classList.add('hidden');
      document.getElementById('intro').classList.add('hidden');
      const quizDiv = document.getElementById('quiz');
      quizDiv.classList.remove('hidden');
      quizDiv.innerHTML = '';
      QUESTIONS.forEach((q, i) => {
        let html = `<div class='question'><h3>${i+1}. ${q.q}</h3>`;
        if (q.type === 'mcq') {
          q.options.forEach((opt, j) => {
            html += `<label><input type='radio' name='q${i}' value='${j}'> ${opt}</label><br>`;
          });
        } else {
          html += `<input type='text' id='q${i}' placeholder='Ketik jawabanmu di sini'>`;
        }
        html += '</div>';
        quizDiv.innerHTML += html;
      });
      quizDiv.innerHTML += `<button class='btn' onclick='finishAndShowResults()'>Selesai & Lihat Hasil</button>`;
    }

    function finishAndShowResults() {
      const quizDiv = document.getElementById('quiz');
      quizDiv.classList.add('hidden');
      const resultsDiv = document.getElementById('results');
      const summaryDiv = document.getElementById('summary');
      let score = 0;
      let total = QUESTIONS.length;
      let catScores = {};

      QUESTIONS.forEach((q, i) => {
        let userAnswer;
        if (q.type === 'mcq') {
          const checked = document.querySelector(`input[name='q${i}']:checked`);
          userAnswer = checked ? parseInt(checked.value) : null;
        } else {
          userAnswer = document.getElementById(`q${i}`).value.trim();
        }

        let correct = (q.type === 'mcq' ? userAnswer === q.answer : userAnswer === q.answer);
        if (correct) score++;

        if (!catScores[q.cat]) catScores[q.cat] = { correct: 0, total: 0 };
        catScores[q.cat].total++;
        if (correct) catScores[q.cat].correct++;
      });

      let summaryHTML = `<p><strong>Skor Akhir:</strong> ${score} / ${total}</p>`;
      summaryHTML += `<h3>Analisis per Kategori:</h3><ul>`;
      for (let cat in catScores) {
        const { correct, total } = catScores[cat];
        summaryHTML += `<li>${cat}: ${correct}/${total}</li>`;
      }
      summaryHTML += '</ul>';
      summaryHTML += `<p><em>Rekomendasi:</em> Pelajari kembali kategori dengan skor terendah untuk memperkuat pemahamanmu.</p>`;
      summaryDiv.innerHTML = summaryHTML;
      resultsDiv.classList.remove('hidden');
    }

    function printSummary() {
      window.print();
    }

    function restartTest() {
      location.reload();
    }
  </script>
</body>
</html>
