<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Evaluasi Sistem Persamaan Linear Tiga Variabel (SPLTV) Kelas X </title>
<style>
body {
  font-family: "Segoe UI", sans-serif;
  background: #f5f7fb;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 900px;
  margin: auto;
  background: #fff;
  border-radius: 12px;
  padding: 20px 30px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
h1, h2, h3 {
  text-align: center;
  color: #2a4d69;
}
button {
  background: #2a4d69;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
}
button:hover { background: #4b86b4; }
.hidden { display: none; }
.question {
  border-bottom: 1px solid #ddd;
  padding: 15px 0;
  line-height: 1.6;
}
.question p {
margin-bottom: 8px;
}
.feedback {
  margin-top: 5px;
  font-style: italic;
}
#summary {
  background: #eef6fb;
  border-radius: 10px;
  padding: 15px;
  margin-top: 20px;
}
#petunjuk {
  background: #f9fafc;
  border-radius: 12px;
  padding: 15px 20px;
  margin-bottom: 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  text-align: center;
}
#petunjuk h2 { color: #2a4d69; margin-bottom: 10px; }
#petunjuk p { color: #333; line-height: 1.5; }
input[type=text] {
  padding: 6px;
  border-radius: 6px;
  border: 1px solid #ccc;
}
label { display: block; margin: 4px 0; }
</style>
</head>
<body>
<div class="container">
  <h1>Evaluasi Sistem Persamaan Linear Tiga Variabel (SPLTV) Kelas X<h1>
  
  <div id="intro">
     <!-- Petunjuk & Motivasi -->
    <section id="petunjuk">
      <h2>Petunjuk & Motivasi</h2>
      <p>
        Kerjakan <strong>15 soal</strong> pilihan ganda berikut.<br>
        Berdo'alah sebelum mengerjakan, lalu klik
        <em><strong>"Selesai & Lihat Hasil"</strong></em> setelah selesai.<br>
        Jawaban akan dinilai otomatis.
      </p>
      <p style="color:#1d4ed8; font-weight:500;">
        Kerjakan dengan jujur dan percaya diri â€” kamu pasti bisa! ğŸ’ªâœ¨
      </p>
    </section>

    <p>Masukkan data diri:</p>
    <label>Nama:
      <input type="text" id="studentName" autocomplete="off" placeholder="Tuliskan nama lengkap">
    </label>
    <label>Kelas:
      <input type="text" id="studentClass" autocomplete="off" placeholder="Contoh: X IPA 1">
    </label>
    <br>
    <button onclick="startTest()">Mulai Evaluasi</button>
  </div>

  <div id="quizSection" class="hidden"></div>

  <div id="resultSection" class="hidden">
    <h2>Hasil Evaluasi</h2>
    <div id="summary"></div>
    <button onclick="printSummary()">Cetak Hasil</button>
    <button onclick="restartTest()">Mulai Ulang</button>
  </div>
</div>

<script>
// ==========================
// TIMER & DATA SOAL
// ==========================
let startTime, endTime;

const QUESTIONS = [
  // Soal 1â€“3
  {
    id: 1, type: "mcq",
    q: "Penyelesaian dari sistem persamaan { 3x + 7y + 2z = 8 ; 4x + 2y - 5z = -19 ; 6y - 4z = 14 } adalah ...",
    options: ["x=5,y=3,z=1","x=4,y=-5,z=1","x=-3,y=4,z=1","x=-5,y=3,z=2","x=-5,y=3,z=1"],
    answer: 4, cat: "Perhitungan",
    fb_true: "âœ… Tepat â€” solusi memenuhi ketiga persamaan.",
    fb_false: "âŒ Coba ulang langkah eliminasi dan substitusi dengan cermat."
  },
  {
    id: 2, type: "mcq",
    q: "Tentukan penyelesaian dari SPLTV berikut: { 2a+b-2c=19 ; 4a+2b+c=13 ; a+b+2c=3 } (urutkan (a,b,c))",
    options: ["(-4,17,-5)","(-4,-5,17)","(-5,17,-4)","(-5,-4,17)","(-4,19,-5)"],
    answer: 0, cat: "Perhitungan",
    fb_true: "âœ… Benar â€” hasilnya (-4,17,-5).",
    fb_false: "âŒ Periksa langkah eliminasi dan urutan variabel."
  },
  {
    id: 3, type: "mcq",
    q: "Jika (xâ‚€,yâ‚€,zâ‚€) memenuhi { 3xâˆ’2yâˆ’3z=5 ; x+yâˆ’2z=3 ; xâˆ’y+z=âˆ’4 }, maka nilai zâ‚€ adalah ...",
    options: ["-3","-2","-1","4","5"],
    answer: 0, cat: "Perhitungan",
    fb_true: "âœ… Tepat â€” z = -3.",
    fb_false: "âŒ Salah â€” cermati hasil eliminasi variabel z."
  },
  // Soal 4â€“6
  {
    id: 4, type: "mcq",
    q: "Nilai dari x - y + z dari sistem persamaan linier tiga variabel { x+2y+3z=14 ; 2xâˆ’yâˆ’3z=âˆ’9 ; âˆ’x+2y+z=6 } adalah ...",
    options: ["1","2","5","6","9"],
    answer: 2, cat: "Perhitungan",
    fb_true: "âœ… Benar â€” hasilnya 5.",
    fb_false: "âŒ Salah â€” lakukan eliminasi dan substitusi dengan benar."
  },
  {
    id: 5, type: "mcq",
    q: "Harga 2 kg mangga, 2 kg jeruk, dan 1 kg anggur adalah Rp 70.000 dan harga 1 kg mangga, 2 kg jeruk, dan 2 kg anggur adalah Rp 90.000. Jika harga 2 kg mangga, 2 kg jeruk, dan 3 kg anggur adalah Rp 130.000. Harga 1 kg jeruk adalah ...",
    options: ["Rp 5.000","Rp 7.500","Rp 10.000","Rp 12.000","Rp 15.000"],
    answer: 1, cat: "Modeling",
    fb_true: "âœ… Tepat â€” harga 1 kg jeruk = Rp 7.500.",
    fb_false: "âŒ Salah â€” bentuk persamaan sesuai urutan buah."
  },
  {
    id: 6, type: "mcq",
    q: "Diketahui tiga tahun lalu, umur A sama dengan 2 kali umur B. Sedangkan dua tahun yang akan datang, 4 kali umur A sama dengan umur B ditambah 36 tahun. Umur A sekarang adalah ... tahun",
    options: ["4","6","9","12","15"],
    answer: 3, cat: "Modeling",
    fb_true: "âœ… Benar â€” umur A sekarang 12 tahun.",
    fb_false: "âŒ Salah â€” gunakan logika umur 'lalu' dan 'mendatang' dengan benar."
  },
  // Soal 7â€“11
  {
    id: 7, type: "mcq",
    q: "Toko A, toko B, dan toko C menjual sepeda. Ketiga toko tersebut selalu berbelanja di sebuah distributor sepeda yang sama. Toko A harus membayar Rp 5.500.000 untuk pembelian 5 sepeda jenis I dan 4 sepeda jenis II. Toko B harus membayar Rp 3.000.000 untuk pembelian 3 sepeda jenis I dan 2 sepeda jenis II. Jika Toko C membeli 6 sepeda jenis I dan 2 sepeda jenis II, maka toko C harus membayar ...",
    options: ["Rp 3.500.000","Rp 4.000.000","Rp 4.500.000","Rp 5.000.000","Rp 5.500.000"],
    answer: 2, cat: "Modeling",
    fb_true: "âœ… Benar â€” hasilnya Rp 4.500.000.",
    fb_false: "âŒ Salah â€” perhatikan koefisien jumlah sepeda."
  },
  {
    id: 8, type: "mcq",
    q: "Irma membeli 2 kg apel dan 3 kg jeruk dengan harga Rp 57.000 sedangkan Ade membeli 3 kg apel dan 5 kg jeruk dengan harga Rp 90.000. Jika Surya hanya membeli 1 kg apel dan 1 kg jeruk, kemudian ia membayar dengan uang Rp 100.000, maka uang kembalian yang diterima Surya adalah ...",
    options: ["Rp 24.000","Rp 42.000","Rp 67.000","Rp 76.000","Rp 80.000"],
    answer: 0, cat: "Perhitungan",
    fb_true: "âœ… Tepat â€” kembalian Surya Rp 24.000.",
    fb_false: "âŒ Salah â€” selesaikan SPLTV dengan tepat."
  },
  {
    id: 9, type: "mcq",
    q: "Jumlah tiga bilangan adalah 75. Bilangan pertama lima lebihnya dari jumlah bilangan lain. Bilangan kedua sama dengan Â¼ dari jumlah bilangan yang lain. Bilangan pertamanya adalah ...",
    options: ["15","20","25","35","40"],
    answer: 4, cat: "Modeling",
    fb_true: "âœ… Benar â€” bilangan pertama 35.",
    fb_false: "âŒ Salah â€” bentuk 3 persamaan sesuai kalimat soal."
  },
  {
    id: 10, type: "mcq",
    q: "Harga 2 buah pisang, 2 buah apel, dan sebuah mangga Rp 1.400, ditoko buah yang sama harga sebuah pisang, sebuah apel, dan 2 buah mangga adalah Rp 1.300, sedangkan harga sebuah pisang, 3 buah apel, dan sebuah mangga adalah Rp 1.500. Harga sebuah pisang, sebuah apel, dan sebuah mangga ditoko buah tersebut adalah ...",
    options: ["Rp 700","Rp 800","Rp 850","Rp 900","Rp 950"],
    answer: 1, cat: "Perhitungan",
    fb_true: "âœ… Tepat â€” total Rp 900.",
    fb_false: "âŒ Salah â€” ulangi eliminasi secara sistematis."
  },
  {
    id: 11, type: "mcq",
    q: "Ali, Budi, Cici, dan Dedi pergi ke toko koperasi membeli buku tulis, pena, dan pensil dengan merek yang sama. Ali membeli 3 buku tulis, 1 pena, dan 2 pensil dengan harga Rp 11.000, Budi membeli 2 buku tulis, 3 pena, dan 1 pensil dengan harga Rp 14.000, Cici membeli 1 buku tulis, 2 pena, dan 3 pensil dengan harga Rp 11.000. Dedi membeli 2 buku tulis, 1 pena, dan 1 pensil. Berapa harga total yang harus dibayar oleh Dedi?",
    options: ["Rp 6.000","Rp 7.000","Rp 8.000","Rp 9.000","Rp 10.000"],
    answer: 0, cat: "Modeling",
    fb_true: "âœ… Benar â€” Dedi harus membayar Rp 8.000.",
    fb_false: "âŒ Salah â€” pastikan persamaan pembelian ditulis dengan benar."
  },
  // Soal 12â€“15
  {
    id: 12, type: "mcq",
    q: "Pada sebuah toko buku, Rana membeli alat-alat tulis berupa 4 buku, 2 pulpen, dan 3 pensil dengan harga Rp 26.000. Lisa membeli 3 buku, 3 pulpen, dan 1 pensil dengan harga Rp 21.000. Nina membeli 3 buku dan 1 pensil dengan harga Rp 12.000. Jika Raya membeli 2 pulpen dan 3 pensil maka berapakah harga yang harus dibayar oleh Raya?",
    options: ["Rp 26.000","Rp 21.000","Rp 13.200","Rp 12.000","Rp 8.600"],
    answer: 1, cat: "Modeling",
    fb_true: "âœ… Benar â€” total Rp 13.200.",
    fb_false: "âŒ Salah â€” periksa kembali bentuk SPLTV-nya."
  },
  {
    id: 13, type: "mcq",
    q: "Ibu Sonia membeli 5 kg telur, 2 kg daging, dan 1 kg udang dengan harga Rp 265.000. Ibu Endang membeli 3 kg telur dan 1 kg daging dengan harga Rp 126.000. Ibu Sinta membeli 3 kg daging dan 2 kg udang dengan harga Rp 320.000. Jika Ibu Ani membeli 2 kg telur, 1 kg daging, dan 1 kg udang ditempat yang sama, maka ia harus membayar sebesar ...",
    options: ["Rp 102.000","Rp 139.000","Rp 174.000","Rp 218.000","Rp 310.000"],
    answer: 3, cat: "Perhitungan",
    fb_true: "âœ… Tepat â€” total Rp 139.000.",
    fb_false: "âŒ Salah â€” bentuk sistem sesuai data pembelian."
  },
  {
    id: 14, type: "mcq",
    q: "Bu Riani membeli 5 kg Grade A, 2 kg Grade B, dan 3 kg Grade C seharga Rp 132.000,-. Dihari yang sama Bu Irma membeli beras ditoko yang sama untuk 7 kg Grade B, dan 3 kg Grade C seharga Rp 127.000,-. Tetangga yang lain pun membeli beras ditoko yang sama dengan Bu Riani dan Bu Irma dengan harga Rp39.000,- untuk 3 kg beras Grade B. Berapakah harga beras Grade A per kilogramnya?",
    options: ["Rp 15.000,-","Rp 14.500,-","Rp 13.500,-","Rp 12.000,-","Rp 10.000,-"],
    answer: 1, cat: "Modeling",
    fb_true: "âœ… Benar â€” harga Grade A = Rp15.000,-/kg.",
    fb_false: "âŒ Salah â€” pastikan koefisien tiap variabel benar."
  },
  {
    id: 15, type: "mcq",
    q: "Seorang penjahit membutuhkan 2 meter kain A, 1 meter kain B, dan 3 meter kain C yang dibeli seharga Rp 106.000,- untuk membuat gorden model pertama. Sementara untuk membuat gaun dibutuhkan 2 meter kain B dan 2 meter kain C yang dibeli seharga Rp 64.000,- Penjahit itu membeli kain tambahan untuk pesanan tambahan yaitu 3 meter kain A , 2 meter kain B seharga Rp 90.000,-. Berapakah harga setiap meter kain A, B, dan C?",
    options: [
      "Rp 15.000,-;Rp 15.000,-;Rp 17.000,-",
      "Rp 20.000,-;Rp 17.000,-;Rp 17.000,-",
      "Rp 20.000,-;Rp 17.000,-;Rp 15.000,-",
      "Rp 15.000,-;Rp 20.000,-;Rp 17.000,-",
      "Rp 20.000,-;Rp 15.000,-;Rp 17.000,-"
    ],
    answer: 0, cat: "Perhitungan",
    fb_true: "âœ… Tepat â€” kain A=Rp12.000, B=Rp15.000, C=Rp17.000/m.",
    fb_false: "âŒ Salah â€” periksa kembali hasil eliminasi."
  }
];

// ==========================
// FUNGSI UTAMA
// ==========================
let startTime, endTime;

function startTest() {
  const name = document.getElementById("studentName").value.trim();
  const cls = document.getElementById("studentClass").value.trim();
  if (!name || !cls) return alert("Isi nama dan kelas terlebih dahulu!");
  startTime = new Date();
  document.getElementById("intro").classList.add("hidden");
  showQuestions();
}

function showQuestions() {
  const quizDiv = document.getElementById("quizSection");
   quizDiv.innerHTML = "<h2>Soal Evaluasi</h2>";
  
  QUESTIONS.forEach((q, i) => {
    let html = `<div class='question'>
        <p><b>${i + 1}. ${q.q}</b></p><div class='options'>`;
    
    if (q.type === "mcq") {
      q.options.forEach((opt, idx) => {
        html += `<label><input type='radio' name='q${q.id}' value='${idx}'> ${opt}</label>`;
      });
    } else {
      html += `<input type='text' id='q${q.id}' placeholder='Ketik jawaban...'>`;
    }
     html += `</div></div>`;
    quizDiv.innerHTML += html;
  });
  
  quizDiv.innerHTML += `<br><center><button onclick='finishAndShowResults()'>Selesai & Lihat Hasil</button></center>`;
  quizDiv.classList.remove("hidden");
}

function finishAndShowResults() {
  endTime = new Date();
  const duration = Math.floor((endTime - startTime) / 1000);
  const minutes = Math.floor(duration / 60);
  const seconds = duration % 60;

  let score = 0;
  let total = QUESTIONS.length;
  let catScores = {};
  let resultHTML = "";

  QUESTIONS.forEach((q) => {
    let correct = false;
    let userAns = "";
    let userAnsText = "";

    if (q.type === "mcq") {
      const sel = document.querySelector(`input[name='q${q.id}']:checked`);
      if (sel) {
        userAns = parseInt(sel.value);
        userAnsText = q.options[userAns];
        correct = (userAns === q.answer);
      } else {
        userAnsText = "(belum dijawab)";
      }
    } else {
      const inp = document.getElementById(`q${q.id}`);
      userAns = inp ? inp.value.trim().toLowerCase() : "";
      correct = (userAns === q.answer.toLowerCase());
      userAnsText = inp.value || "(belum dijawab)";
    }
    
    if (correct) score++;
    if (!catScores[q.cat]) catScores[q.cat] = { correct: 0, total: 0 };
    catScores[q.cat].total++;
    if (correct) catScores[q.cat].correct++;

    const correctAnsText = q.options ? q.options[q.answer] : q.answer;

    resultHTML +=
       <div style='margin-bottom:15px;'>
        <p><b>${q.id}. ${q.q}</b></p>
        <p><b>Jawabanmu:</b> ${userAnsText}</p>
        <p><b>Jawaban benar:</b> ${correctAnsText}</p>
        <p>${correct ? q.fb_true : q.fb_false}</p>
        <details style="margin-left:10px;">
          <summary><b>ğŸ“˜ Cara Penyelesaian</b></summary>
          <p>${q.work}</p>
        </details>
      </div>
    `;
  });

  // ===============================
  // âœ¨ Analisis Hasil & Rekomendasi Detail
  // ===============================
  let analysis = "<h3>Analisis Hasil Belajar:</h3><ul>";
  
  for (let cat in catScores) {
    const cs = catScores[cat];
    const rate = Math.round((cs.correct / cs.total) * 100);
     let mastery = "", desc = "", suggestion = "";

     if (rate >= 85) {
      mastery = "âœ… Sangat Baik";
      desc = "Pemahamanmu kuat dan langkah penyelesaianmu sudah sistematis.";
      suggestion = "Pertahankan kemampuan ini dengan latihan soal bervariasi agar semakin matang.";
    } else if (rate >= 70) {
      mastery = "ğŸŸ¡ Cukup Baik";
      desc = "Kamu memahami konsep dasar, namun masih ada kekeliruan kecil.";
      suggestion = "Ulangi latihan soal dan perhatikan kesalahan kecil agar makin teliti.";
    } else if (rate >= 50) {
      mastery = "ğŸŸ  Perlu Ditingkatkan";
      desc = "Pemahamanmu masih setengah, perlu memperkuat langkah-langkah eliminasi dan substitusi.";
      suggestion = "Tonton video pembelajaran atau minta penjelasan guru tentang tahapan penyelesaian SPLTV.";
    } else {
      mastery = "ğŸ”´ Perlu Perhatian Khusus";
      desc = "Kamu masih kesulitan dalam memahami konsep dasar SPLTV.";
      suggestion = "Pelajari ulang dari soal sederhana dan coba menuliskan model matematikanya terlebih dahulu.";
    }

    let detail = "";
    switch (cat) {
      case "Modeling":
        detail = "Kemampuan mengubah soal cerita menjadi sistem persamaan linear tiga variabel yang sesuai dengan konteks.";
        break;
      case "Perhitungan":
        detail = "Kemampuan melakukan operasi eliminasi, substitusi, dan kalkulasi numerik secara akurat.";
        break;
      case "Konsep":
        detail = "Pemahaman struktur dasar SPLTV dan arti solusi dalam konteks permasalahan.";
        break;
    }
     
    analysis +=
    <li>
    <b>${cat}</b>-<i>${mastery}</i> (${rate}% benar)<br>
    ${desc}<br>
    <u>Penjelasan:</u> ${detail}<br>
        <u>Saran:</u> ${suggestion}
      </li><br>
    `;
  }
  
  analysis += "</ul>";

  const rekom = `
  <h3>Rekomendasi Umum:</h3>
  <ul>
    <li>ğŸ“˜ <b>Modeling:</b> Latih kemampuan membaca soal cerita dengan teliti dan menuliskannya menjadi bentuk persamaan.</li>
    <li>ğŸ”¢ <b>Perhitungan:</b> Fokus pada ketelitian langkah demi langkah dalam proses eliminasi dan substitusi.</li>
    <li>ğŸ’¡ <b>Konsep:</b> Pahami makna tiap variabel serta hubungan antara tiga persamaan dan tiga variabel.</li>
    <li>ğŸ“ˆ <b>Strategi Belajar:</b> Buat ringkasan rumus SPLTV dan berlatih minimal 10 soal tambahan tiap minggu.</li>
    <li>ğŸ¤ <b>Kerjasama:</b> Diskusikan hasil evaluasi ini bersama teman atau guru untuk memperbaiki pemahaman.</li>
  </ul>
  <p style='color:#1e3a8a; font-weight:500;'>Terus semangat! Setiap latihan membawamu lebih dekat pada penguasaan penuh SPLTV ğŸŒŸ</p>`;

  document.getElementById("summary").innerHTML = `
    <p><b>Nama:</b> ${document.getElementById("studentName").value}</p>
    <p><b>Kelas:</b> ${document.getElementById("studentClass").value}</p>
    <p><b>Skor Akhir:</b> ${score} dari ${total} soal (${Math.round((score / total) * 100)}%)</p>
    <p><b>Waktu Pengerjaan:</b> ${minutes} menit ${seconds} detik</p>
    ${analysis}${rekom}<hr>
    <h3>ğŸ“Š Detail Hasil Setiap Soal:</h3>
    ${resultHTML}
  `;

  document.getElementById("quizSection").classList.add("hidden");
  document.getElementById("resultSection").classList.remove("hidden");
}

function printSummary() { window.print(); }
function restartTest() { window.location.reload(); }
</script>
</body>
</html>
